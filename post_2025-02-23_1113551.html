
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How detailed do backend developers write comments in your API documentation?</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>How detailed do backend developers write comments in your API documentation?</h1>
        <details>
            <summary>Show Chinese Title</summary>
            <h3>后端的大佬们 你们的接口文档注释写道什么程度呀</h3>
        </details>
        <div class="content">
            <p>Subject:

This is written by another colleague in the group:

```json
{
    &quot;code&quot;: 200,
    &quot;data&quot;: {
        &quot;forum&quot;: {
            &quot;forum_id&quot;: 1, // Post ID
            &quot;user_id&quot;: 2, // Poster ID
            &quot;content&quot;: &quot;Only supports text input, Simplified Chinese, numbers, uppercase and lowercase letters, Chinese and English punctuation&quot;, // Post content
            &quot;created_at&quot;: &quot;2024-12-12 16:28&quot;, // Posting time
            &quot;user_name&quot;: &quot;Teacher&quot;, // Poster name
            &quot;avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot; // Poster avatar
        },
        &quot;forumReplyList&quot;: {
            &quot;data&quot;: [
                {
                    &quot;forum_reply_id&quot;: 15, // Reply content ID
                    &quot;forum_id&quot;: 1, // Post ID
                    &quot;user_id&quot;: 2, // Reply user ID
                    &quot;content&quot;: &quot;Another reply content&quot;, // Content of the reply
                    &quot;created_at&quot;: &quot;2024-12-14 22:54&quot;, // Time of reply
                    &quot;forum_reply_like_count&quot;: 0, // Likes for the reply
                    &quot;user_name&quot;: &quot;Teacher&quot;, // Name of the replying user
                    &quot;avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot;, // Avatar of the replying user
                    &quot;reply_user_name&quot;: &quot;Teacher&quot;, // Username of the replied user
                    &quot;is_delete&quot;: true, // Whether it is the current user&#x27;s reply: true means the current user&#x27;s reply can be deleted, false means the current user&#x27;s reply cannot be deleted
                    &quot;is_like&quot;: false // Whether the current user has liked it, true means liked false means not liked
                }
            ],
            &quot;current&quot;: 1, // Current page
            &quot;total&quot;: 12, // Total number
            &quot;size&quot;: 10, // Current pagination size
            &quot;has_more_page&quot;: true // Whether there is a next page: true means there is a next page false means there is no next page
        }
    }
}
```

This is what I wrote, completely without comments:

```json
{
    &quot;code&quot;: 200,
    &quot;data&quot;: {
        &quot;id&quot;: 2,
        &quot;type&quot;: &quot;in_select&quot;,
        &quot;question_description&quot;: &quot;Please choose Azure Dragon or White Tiger&quot;,
        &quot;question_images&quot;: [],
        &quot;question_options&quot;: [
            {
                &quot;description&quot;: &quot;Azure Dragon&quot;,
                &quot;image&quot;: null
            },
            {
                &quot;description&quot;: &quot;White Tiger&quot;,
                &quot;image&quot;: null
            }
        ],
        &quot;student_answer_exists&quot;: true,
        &quot;is_can_submit&quot;: false,
        &quot;socket_name&quot;: &quot;course_interact_1_2&quot;
    }
}
```

```json
{
    &quot;code&quot;: 200,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 2,
            &quot;body&quot;: &quot;Top level&quot;,
            &quot;user_type&quot;: &quot;teacher&quot;,
            &quot;user_nickname&quot;: &quot;Teacher Nickname A&quot;,
            &quot;user_avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot;,
            &quot;created_at&quot;: &quot;2025-01-07 20:19:38&quot;,
            &quot;childs&quot;: [
                {
                    &quot;id&quot;: 6,
                    &quot;body&quot;: &quot;Reply 2 to Reply 1&quot;,
                    &quot;user_type&quot;: &quot;student&quot;,
                    &quot;user_nickname&quot;: &quot;Cheng Fengying&quot;,
                    &quot;user_avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/student_avatar_default.png&quot;,
                    &quot;created_at&quot;: &quot;2025-01-07 20:20:15&quot;,
                    &quot;reply_user_nickname&quot;: &quot;Jin Ying&quot;
                },
                {
                    &quot;id&quot;: 5,
                    &quot;body&quot;: &quot;Reply 1 to Reply 1&quot;,
                    &quot;user_type&quot;: &quot;teacher&quot;,
                    &quot;user_nickname&quot;: &quot;An Zhiyuan&quot;,
                    &quot;user_avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot;,
                    &quot;created_at&quot;: &quot;2025-01-07 20:20:12&quot;,
                    &quot;reply_user_nickname&quot;: &quot;Jin Ying&quot;
                }
            ]
        }
    ]
}
```

Then, a frontend developer in the group wants me to write clearly and mark the meaning of each field.

I am confused.

Furthermore,

Frontend developers,

What does the ideal API documentation look like in your mind?</p>
            <details>
                <summary>Show Chinese Content</summary>
                <p>如题

这是组内另一个同事写的

json
{
    &quot;code&quot;: 200,
    &quot;data&quot;: {
        &quot;forum&quot;: {
            &quot;forum_id&quot;: 1, //帖子 ID
            &quot;user_id&quot;: 2, //发帖人 ID
            &quot;content&quot;: &quot;仅支持文本输入，简体中文、数字、大小写字母，中英文标点符号&quot;, //帖子内容
            &quot;created_at&quot;: &quot;2024-12-12 16:28&quot;, //发帖时间
            &quot;user_name&quot;: &quot;教师&quot;, //发帖人名称
            &quot;avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot; //发帖人头像
        },
        &quot;forumReplyList&quot;: {
            &quot;data&quot;: [
                {
                    &quot;forum_reply_id&quot;: 15, //回复内容 ID
                    &quot;forum_id&quot;: 1, //帖子 ID
                    &quot;user_id&quot;: 2, //回复用户 ID
                    &quot;content&quot;: &quot;又一次回复内容&quot;, //回复的内容
                    &quot;created_at&quot;: &quot;2024-12-14 22:54&quot;, //回复的时间
                    &quot;forum_reply_like_count&quot;: 0, //回复的点赞
                    &quot;user_name&quot;: &quot;教师&quot;, //回复用户的名称
                    &quot;avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot;, //回复用户的头像
                    &quot;reply_user_name&quot;: &quot;教师&quot;, //被回复的用户名
                    &quot;is_delete&quot;: true, //是否是当前用户的回复：true 是当前用户的回复可以删除，false 不是当前用户的回复不能删除
                    &quot;is_like&quot;: false //当前用户是否点赞，true 已点赞 false 未点赞
                }
            ],
            &quot;current&quot;: 1, //当前页
            &quot;total&quot;: 12, //总共的数量
            &quot;size&quot;: 10, //当前分页数量
            &quot;has_more_page&quot;: true //是否有下一页：true 有下一页 false 没有下一页
        }
    }
}
```

这是我写的 完全无注释

```json
{
    &quot;code&quot;: 200,
    &quot;data&quot;: {
        &quot;id&quot;: 2,
        &quot;type&quot;: &quot;in_select&quot;,
        &quot;question_description&quot;: &quot;请选择青龙还是白虎&quot;,
        &quot;question_images&quot;: [],
        &quot;question_options&quot;: [
            {
                &quot;description&quot;: &quot;青龙&quot;,
                &quot;image&quot;: null
            },
            {
                &quot;description&quot;: &quot;白虎&quot;,
                &quot;image&quot;: null
            }
        ],
        &quot;student_answer_exists&quot;: true,
        &quot;is_can_submit&quot;: false,
        &quot;socket_name&quot;: &quot;course_interact_1_2&quot;
    }
}
```

```json
{
    &quot;code&quot;: 200,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 2,
            &quot;body&quot;: &quot;顶层&quot;,
            &quot;user_type&quot;: &quot;teacher&quot;,
            &quot;user_nickname&quot;: &quot;教师昵称阿&quot;,
            &quot;user_avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot;,
            &quot;created_at&quot;: &quot;2025-01-07 20:19:38&quot;,
            &quot;childs&quot;: [
                {
                    &quot;id&quot;: 6,
                    &quot;body&quot;: &quot;回复 1 的回复 2&quot;,
                    &quot;user_type&quot;: &quot;student&quot;,
                    &quot;user_nickname&quot;: &quot;程凤英&quot;,
                    &quot;user_avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/student_avatar_default.png&quot;,
                    &quot;created_at&quot;: &quot;2025-01-07 20:20:15&quot;,
                    &quot;reply_user_nickname&quot;: &quot;金莹&quot;
                },
                {
                    &quot;id&quot;: 5,
                    &quot;body&quot;: &quot;回复 1 的回复 1&quot;,
                    &quot;user_type&quot;: &quot;teacher&quot;,
                    &quot;user_nickname&quot;: &quot;安智渊&quot;,
                    &quot;user_avatar&quot;: &quot;http://127.0.0.1:8000/assets/img/teacher_avatar_default.png&quot;,
                    &quot;created_at&quot;: &quot;2025-01-07 20:20:12&quot;,
                    &quot;reply_user_nickname&quot;: &quot;金莹&quot;
                }
            ]
        }
    ]
}
```

然后嘛 组内的一个前端 希望我写的清楚一点 标清楚每个字段的含义

我 产生了迷茫

再者

前端的大佬们

你们心中的接口文档是咋样的</p>
            </details>
        </div>
        <div class="replies">
            <ul>
                <li>I can&#x27;t accept childs.<br><details><summary>Show Chinese Reply</summary>我不能接受 childs</details></li><li>First, use a large model to help me build a basic structure, such as directly generating complete documentation based on code or swagger, and then focus on and improve the key logic fields and easily confusing fields myself. Most of this kind of documentation is nonsense, self-explanatory; but some fields are indeed more complicated and need special explanation. If you don&#x27;t have documentation or it&#x27;s not detailed, you may be the one to blame if something goes wrong; but typing every field is purely manual labor, so distinguish between primary and secondary, and make good use of AI.<br><details><summary>Show Chinese Reply</summary>先用大模型帮我构建一个基础的结构出来，比如根据代码或者 swagger 直接生成完整的文档，再把关键逻辑字段、易混淆的字段自己关注完善一下就行了。这种文档属于那种绝大部分都是废话，见文知意的；但是个别的字段确实比较绕需要特别说明的。如果你没有文档或者写的不细，那到时候真出了问题可能就是你背锅了；但是每个字段都打字又纯属体力活，所以分清主次，善用 AI 就好了。</details></li><li>Backend, every field should be documented. This is a basic requirement.<br><details><summary>Show Chinese Reply</summary>后端，每个字段都有。这是基本的要求。</details></li><li>The naming convention for `is_can_submit` is so strange.<br><details><summary>Show Chinese Reply</summary>`is_can_submit` 这个命名方式好奇怪啊</details></li><li>There are many ways to document, not necessarily through comments. If the data is clear, it is not necessary to comment on every field. The suggestion to &quot;write clearly and mark the meaning of each field&quot; also lacks guidance, which fields are ambiguous and need to be specifically pointed out. Saying &quot;write in detail&quot; makes the same mistake as &quot;documentation is not detailed.&quot; For example: What other values are there for type besides in_select? Why is question_images empty? Why is it an array? How many images should be placed normally? Why is the image in options null, and what formats are supported? What does student_answer_exists mean? Does it mean there is a conflict with other students&#x27; answers? What does is_can_submit mean? Under what circumstances will it be false? What does socket_name mean? Why choose 2 for the id? Is it globally unique? If it is globally unique, why not use a large number as an example? If it is a sequence within a session, why not start from 1 or 0? What is &quot;Reply 2 to Reply 1&quot;? Is the reply with id 2 a reply to 1? Who is Jin Ying? Is it the nickname with id 2 and user_nickname &quot;Teacher Nickname A&quot;? What is the timezone of created_at?<br><details><summary>Show Chinese Reply</summary>文档有很多方式，不一定通过注释的方式。一边来说数据清楚是不需要每个字段都注释的。而“希望我写的清楚一点 标清楚每个字段的含义”这种建议也缺乏指引，哪个字段有什么歧义需要具体指出来。一句“写详细点”犯了和“文档不详细”一样的错误。比如：type 除了 in_select 还有什么值？question_images 为什么是空的？为什么是个数组？正常应该放几个 image ？options 的 image 为什么是 null ，支持的格式是什么？什么叫 student_answer_exists ？是和别的学生的答案冲突的意思？is_can_submit 是什么意思？什么情况会是 false ？socket_name 是什么意思？id 为什么选择 2 ？是全局唯一的吗？如果是全局唯一的为什么不选择一个很大的数字做例子？如果会话内的序列为什么不是从 1 或者 0 开始？什么是“回复 1 的回复 2”？ id 为 2 的回复是回复 1 吗？金莹是谁？是 id 为 2 ，user_nickname 为&quot;教师昵称阿&quot;的 nickname ？created_at 的时区是什么？</details></li><li>Since it&#x27;s API documentation, I suggest not using code comments to explain the fields, but writing them separately, with the code just being a return example; also, whether you need to explain each field specifically depends on the scenario. If it&#x27;s internal front-end and back-end collaboration within the company, after having a fixed style and habit, some common fields (such as id, total) don&#x27;t need to be explained in every interface. If it&#x27;s a public API or an API delivered to the outside, the more detail the better.<br><details><summary>Show Chinese Reply</summary>既然是接口文档，我建议是不要用代码注释的方式去解释字段，而是分开来写，代码只是一个返回示例即可；另外是否需要每个字段都解释具体还得看场景，如果是公司内部前后端协作，有个固定的风格习惯后，一些通用字段（比如 id 、total ）可以不用每个接口都解释，如果是公开 API 或者交付给外部的 API 越详细越好。</details></li><li>The documentation is like the backend and frontend signing a contract. Could you sign a contract written like this?<br><details><summary>Show Chinese Reply</summary>文档就是后端和前端在签合同，合同写这样你能签？</details></li><li>Add comments for enumerated values, add comments for multiple IDs, and don&#x27;t add comments for others.<br><details><summary>Show Chinese Reply</summary>枚举值的加注释，有多个某 id 的加注释，其它不加</details></li><li>Interrupting with my open-source API testing tool: https://github.com/LinuxSuRen/api-testing<br><details><summary>Show Chinese Reply</summary>乱入下我的开源接口工具 https://github.com/LinuxSuRen/api-testing</details></li><li>Isn&#x27;t it about writing good comments at the code level and then generating Swagger documentation?<br><details><summary>Show Chinese Reply</summary>不是在代码层面写好注释然后生成 swagger 文档吗？</details></li><li>Without comments, who knows what this field is for? If you guess wrong and there&#x27;s a BUG, will you fix it or the front-end fix it? At a minimum, provide a name comment for each field that corresponds to the front-end, whether it is required, data type (format requirements), and if it is an enumeration, provide the value and corresponding description or source for each option. If this structure has appeared in other interfaces, I will indicate that the structure and comments in this field are based on the structure under a certain field of a certain interface. For example, for the data under the forumReplyList field, I will mark the structure in the array as forumReply{}, which is based on the structure of the same name in the /reply/view interface, and I will explicitly specify the name of the structure in that interface.<br><details><summary>Show Chinese Reply</summary>不写注释鬼知道这个字段是干嘛的，到时候猜错了出 BUG ，是你改还是前端改？每个字段最少提供一个与前端对应的名称注释，是否必填，数据类型（格式要求），如果是枚举，则提供每个选项的值与对应说明或获取来源。如果这个结构在其他接口出现过，我会标明该字段内结构与注释以某接口的某字段下结构为准，例如 forumReplyList 字段下数据，我会标注为 数组内结构为 forumReply{}，以接口 /reply/view 的同名结构为准，我在那个接口会明确指定该结构的名称。</details></li><li>If you were a frontend developer and the backend only gave you a vague return example, you&#x27;d probably be even more confused.<br><details><summary>Show Chinese Reply</summary>如果你是前端，后端只给了不清不楚的返回示例，估计你更迷茫</details></li><li>If you are developing on your own and you are confident that the field names are clear, you don&#x27;t need to write comments. For example, everyone knows what user_id is, but is_delete will be confusing for you after three months. Therefore, if it is multi-person collaboration, it is necessary to ensure that each field has clear comments, because you can&#x27;t guarantee that everyone can understand the field naming, and this only needs to be written once to benefit everyone (including yourself), which is also a basic quality.<br><details><summary>Show Chinese Reply</summary>自己开发如果你有把握保证字段名清晰明了就可以不用写比如 user_id 谁都知道是啥但是 is_delete 对于三个月后的你就丈二和尚了所以如果是多人协作，保证每个字段清晰注释是必要的，因为你无法保证每个字段命名都能让别人看得懂，而且这种只要写一遍就能让所有人受益（包括你自己），也是基本素养。</details></li><li>Write comments for some main logic. As for enumeration, because the model definition has a method to replace it with Chinese, there are not many comments. It depends on whether it is collaborative development or self-development. Do whatever makes you comfortable. In collaboration, basic syntax doesn&#x27;t need to be commented, but other things should be.<br><details><summary>Show Chinese Reply</summary>部分主要逻辑写注释至于枚举因为模型定义有替换成中文的方法所以也没什么注释，看是合作开发还是自己开发了，自己怎么舒服怎么来，合作基础的语法不用其他该写就写</details></li><li>Looking at your field names, I know the meaning. Your colleague&#x27;s is like telling you 1+1=2, this is a mouse, this is a monitor, that level of detail.<br><details><summary>Show Chinese Reply</summary>你的看字段名就知道含义，你同事的像是在告诉你 1+1=2 、这是鼠标、这是显示器，这种层次</details></li><li>Either annotate in the class, and use Swagger to display the meaning of the fields.<br><details><summary>Show Chinese Reply</summary>要么就备注在类里，用 swagger 显示字段含义</details></li><li>The interface uses GraphQL. Detailed field comments are written in the code, and then the GraphQL Schema is generated using a framework. The front-end directly uses the GraphQL Schema to generate the interface SDK to ensure end-to-end type safety.<br><details><summary>Show Chinese Reply</summary>接口用的 GraphQL ，代码里会写详细的字段注释，再用框架生成  GraphQL Schema 。前端直接用 GraphQL Schema 生成接口 SDK ，确保端对端类型安全。</details></li><li>@wogogoing @zbw0414 swagger +1, I like to use fastapi / robyn which have openapi/swagger documentation output, concise and clear and can be tested online directly<br><details><summary>Show Chinese Reply</summary>@wogogoing @zbw0414 swagger +1 ，就喜欢用 fastapi / robyn 这种带有 openapi/swagger 文档输出的，简洁明了还能直接在线测试</details></li><li>openapi<br><details><summary>Show Chinese Reply</summary>openapi</details></li><li>It doesn&#x27;t take you much time to have AI add the comments.<br><details><summary>Show Chinese Reply</summary>让 AI 加上注释又不需要花你多少时间.</details></li>
            </ul>
        </div>
    </div>
</body>
</html>
