
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The most basic Go concurrent programming question stumped 90% of the candidates</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>The most basic Go concurrent programming question stumped 90% of the candidates</h1>
        <details>
            <summary>Show Chinese Title</summary>
            <h3>最基础的 go 并发编程题，难倒了 90%的候选人</h3>
        </details>
        <div class="content">
            <p>Two goroutines communicate using a channel. One goroutine sends the numbers 0, 1, 2, 3, and 4 sequentially, and the other goroutine receives and outputs them.
It examines the basic knowledge of goroutine control, channel closing, etc. The code written by the interviewees has various problems.

1. Some goroutines quit before the program even starts. After prompting, they still can&#x27;t think of using waitgroup, context, done channel, etc., but instead use time.sleep to wait;
2. Some channels don&#x27;t know that they are closed by the producer, and the result is panic because they are closed directly in the main program before the producer has finished sending;
3. Some do not check the return value of the consumer reading the closed channel, and the program directly enters an infinite loop deadlock.

Last week, only 1 out of 5 interviewees wrote code that executed without problems at once, 1 couldn&#x27;t write it out even after prompting, and the rest could gradually modify the correct code after prompting.

This question is still very classic. Without asking about GMP, garbage collection algorithms, and other boilerplate questions, this question can reveal Go basics.</p>
            <details>
                <summary>Show Chinese Content</summary>
                <p>两个 goroutine 用 channel 通信，一个 goroutine 顺序发送 0,1,2,3,4 个数字，另一个 goroutine 接收并输出。
考察了 goroutine 的控制、channel 的关闭等基础知识，面试者写的代码各种问题。

1. 有的 goroutine 还没启动程序就退出了，提示后仍想不到使用 waitgroup ，context ，done channel 等手段，而是用 time sleep 等待；
2. 有的 channel 不知道由生产者关闭，直接在主程序生产者还未发送结束就关闭结果 panic ；
3. 有的不会检查消费者读关闭 channel 的返回值，程序直接死循环死锁。

上周面试 5 个人只有 1 个人一次写出了执行没问题的代码，有 1 个经过提示也没写出来，剩下的能提示后逐步修改出正确的代码。

这个题还是很经典的，不用问 GMP 、垃圾回收算法等八股文，这个题就能看出 go 基础了。</p>
            </details>
        </div>
        <div class="replies">
            <ul>
                <li>Fishing addiction is a disease that needs to be treated<br><details><summary>Show Chinese Reply</summary>钓鱼上瘾是病，得治</details></li><li>I took a look, and the post last week &quot;Is it difficult to put forward the LRU algorithm question in the first round&quot; was also posted by you. What type of position are you responsible for interviewing? Why is the difference between the questions so big? And to be honest, if 80% of the people who submit resumes to you don&#x27;t even understand the basics of chan... then it&#x27;s probably not appropriate to ask LRU for this position during the interview.<br><details><summary>Show Chinese Reply</summary>看了一下，上周那个 “一面出 LRU 算法题算难吗” 的帖子也是你发的。老哥你负责面的到底是什么类型岗位呀？怎么题目差距好像有点儿大。而且说实话，如果给你投简历的人里面，有 80%连 chan 的基础都用不清楚。。。那么你这个岗位面试的时候应该不适合问 LRU 。</details></li><li>It can only be said that op is recruiting in the wrong direction. The 985 and 211 students you recruit are the group that is not short of interview opportunities in the market. If you don&#x27;t particularly love code, you won&#x27;t delve into these things, anyway, curd can easily get money, and is it not good to play games after get off work? On the other hand, those junior college and general undergraduate students with lower education, a small number of people may really delve into this kind of thing in order to stand out in the competition, and the smart op has filtered out this possibility. So, isn&#x27;t it normal that 90% of the interviewees don&#x27;t know it?<br><details><summary>Show Chinese Reply</summary>只能说 op 招聘错方向了，你招的 985 ，211 都是市场里不缺面试机会的那一批。如果不是特别热爱代码的，也不会去钻研这些东西，反正 curd 就能轻松把钱拿，下班了打游戏不香吗。倒是那些学历低人一等的大专和普本，有少部分人为了在竞争中脱颖而出，可能真会去钻研这种东西，而聪明的 op 已经把这种可能性过滤掉了。至此，面试者百分之 90%不会不是很正常吗</details></li><li>How much salary do you offer? If the salary is low, then it&#x27;s &quot;a good match,&quot; which is fine.<br><details><summary>Show Chinese Reply</summary>薪资给多少？薪资低那就 “门当户对” 了，挺好的。</details></li><li>Don&#x27;t have a inexplicable sense of superiority and then collect copper coins when you get old; first use pragmatic standards to screen, such as a full-time undergraduate degree, CET-4 and CET-6, 3 years of experience, etc.<br><details><summary>Show Chinese Reply</summary>你也别有莫名的优越感然后老来收铜币；先用务实标准筛选一下吧，统招本科四六级，3 年经验之类的</details></li><li>Posting these every day, are you thinking of switching to self-media?<br><details><summary>Show Chinese Reply</summary>天天发这些，不会是想转自媒体吧</details></li><li>@ForkNMB Actually, when recruiting people, if you haven&#x27;t seen this question and haven&#x27;t prepared, and you use this question to test yourself, you will also be screened out.<br><details><summary>Show Chinese Reply</summary>@ForkNMB 其实招人的， 如果自己没有看过这题没有准备， 拿这题考他自己， 也会被筛出局。</details></li><li>Then I have to point out that your candidate really has a problem, this, this is completely clueless...<br><details><summary>Show Chinese Reply</summary>拿我得指出哥们候选人真的有问题吧, 这, 这不是完全不会嘛...</details></li><li>Isn&#x27;t concurrency the essence of golang? If you haven&#x27;t mastered this, it&#x27;s equivalent to not learning it.<br><details><summary>Show Chinese Reply</summary>golang 的精髓不就是并发吗？这都没掌握，等于没学</details></li><li>If they fail the test based on your status, are you confident that you will pass if they ask questions to test you in return? A single question cannot explain a person&#x27;s overall ability.<br><details><summary>Show Chinese Reply</summary>对于你的状态来考他们不合格，那反过来他们提问题考验你你有信心通过吗？ 单个问题并不能说明人的整体能力</details></li><li>package main

import (
	&quot;fmt&quot;
	&quot;sync&quot;
)

func main() {
	sw := sync.WaitGroup{}
	sw.Add(1)
	ch := make(chan int)
	go func() {
		for i := 0; i &lt; 5; i++ {
			ch &lt;- i
		}
		close(ch)
	}()
	go func() {
		defer sw.Done()
		for i := range ch {
			fmt.Println(i)
		}
	}()
	sw.Wait()
	fmt.Println(&quot;done&quot;)
}<br><details><summary>Show Chinese Reply</summary>package mainimport (	&quot;fmt&quot;	&quot;sync&quot;)func main() {	sw := sync.WaitGroup{}	sw.Add(1)	ch := make(chan int)	go func() {		for i := 0; i &lt; 5; i++ {			ch &lt;- i		}		close(ch)	}()	go func() {		defer sw.Done()		for i := range ch {			fmt.Println(i)		}	}()	sw.Wait()	fmt.Println(&quot;done&quot;)}</details></li><li>I also ask this question in interviews. It feels related to HR. Many HR people only look at the resume and don&#x27;t understand technology. When they find a bunch of people, 90% can&#x27;t write it out. The HR here is more professional, and basically half of the people can write it. It&#x27;s ridiculous that these people who don&#x27;t even understand coroutine communication can talk about garbage collection, array expansion, optimistic locks and pessimistic locks clearly.<br><details><summary>Show Chinese Reply</summary>我面试也问这个题目。感觉和 hr 相关，很多 hr 只看背景，不懂技术，找一堆人过来就 90%都写不出来。我现在这里 hr 比较专业，基本上一半的人能写出来的。想来也是搞笑，这些连个协程通信都写不明白的人，讲起垃圾回收，数组扩容，乐观锁悲观锁却能头头是道</details></li><li>https://go.dev/play/p/Te_KHn3sWYN Only use channels to implement it, bro. Which city is your company in? I want to go.<br><details><summary>Show Chinese Reply</summary>https://go.dev/play/p/Te_KHn3sWYN 只用 channel 实现大哥，你们公司在哪个城市，我想去</details></li><li>time.sleep......<br><details><summary>Show Chinese Reply</summary>time.sleep……</details></li><li>If the difficulty of a question is defined from the perspective of the distribution of pass rates, then 90% should be considered hard.<br><details><summary>Show Chinese Reply</summary>如果说从通过率分布的角度来定义 题的难度的话 90% 应该算 hard</details></li><li>Although I know that waitgroup should be used, doesn&#x27;t &quot;time sleep&quot; solve the problem of exiting before it is executed?<br><details><summary>Show Chinese Reply</summary>虽然知道应该使用 waitgroup ，但是， &quot;time sleep &quot; 没解决没执行完就退出这个问题么？</details></li><li>This is not called Go basics, it&#x27;s just programming basics.<br><details><summary>Show Chinese Reply</summary>你这个不叫 go 基础，就是个编程基础。</details></li><li>Can I use a third-party library? My brain has been spoiled by conc. I only remember conc&#x27;s WaitGroup. The system&#x27;s WaitGroup seems to belong to the sync package.<br><details><summary>Show Chinese Reply</summary>可以用第三方库不，我脑子已经被 conc 惯坏了，只记得起 conc 的 WaitGroup ， 系统的 WaitGroup  好像属于 sync 包。</details></li><li>@fruitmonster time.sleep only reduces the probability of this problem, but does not solve it. If the operation is requesting an API or other time-consuming operation, how long should you sleep? This method is not good, and you still need to use wait group or other methods to synchronize.<br><details><summary>Show Chinese Reply</summary>@fruitmonster time sleep 只是降低出现这个问题的概率，并没有解决问题。如果操作是请求 api 或者其他耗时操作，要 sleep 多久？这种方式不好的，还是得 wait group 或者其他方式来同步</details></li><li>This situation at least shows that they have never written a program that requires graceful shutdown. It cannot be said to be a death sentence, but at least they don&#x27;t know much about Go.<br><details><summary>Show Chinese Reply</summary>这种情况至少说明完全没做过需要 graceful shutdown 的程序，不能说判死刑，但至少对 go 不太了解吧</details></li>
            </ul>
        </div>
    </div>
</body>
</html>
